<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="hosts_and_triggers_service">
    <title>Обслуживание узлов сети и триггеров</title>
    <body>
        <p>
            <div><p>В DATAPK ITM-K можно указать периоды обслуживания групп узлов сети, групп узлов
                    сети и отдельных <term keyref="triggers">триггеров</term>.</p><p>Имеется два
                    типа обслуживания: со сбором данных и без сбора данных.</p><p>В течение
                    обслуживания «со сбором данных» <term keyref="triggers">триггеры</term>
                    обрабатываются как обычно, и создаются события, если потребуется. Однако <term
                        keyref="escalation">эскалации</term> о проблемах будут поставлены на паузу
                    для узлов сети/<term keyref="triggers">триггеров</term> в обслуживании, если в
                    настройках действия выбрана опция «Приостановить операции для подавленных
                    проблем». В этом случае шаги <term keyref="escalation">эскалаций</term>, которые
                    могут включать отправку оповещений или удаленные команды, будут игнорироваться
                    до тех пор, пока не завершится период обслуживания.</p><p>Например, если шаги
                        <term keyref="escalation">эскалаций</term> запланированы на 0, 30 и 60
                    минуты после начала проблемы и имеется получасовое обслуживание, которое
                    начинается с 10 минуты по 40 минуту после возникновения реальной проблемы, тогда
                    второй и третий шаги будут выполнены спустя полчаса или спустя 60 минут и 90
                    минут (при условии, что проблема все еще имеется). Аналогично, если проблема
                    произойдет в процессе обслуживания, <term keyref="escalation">эскалация</term>
                    начнется после завершения обслуживания.</p><p>Чтобы получать оповещения о
                    проблемах в процессе обслуживания как обычно (без задержки), необходимо убрать
                    опцию «Приостановить операции для подавленных проблем» в настройках
                    действия.</p><p>Если по крайней мере один узел сети (используемый в выражении
                        <term keyref="triggers">триггера</term>) находится не в режиме обслуживания, DATAPK ITM-K отправит оповещение о
                    проблеме.</p><p>DATAPK ITM-K сервер должен работать во время обслуживания.
                    Процессы таймера ответственны за переключение состояния узлов сети в/без
                    обслуживания в нулевую секунду каждой минуты. </p><note> когда узел сети входит
                    в режим обслуживания, процессы таймера сервера DATAPK ITM-K теперь будут
                    перечитывать все открытые проблемы для проверки того, требуется ли их подавить.
                    Такое поведение может повлиять на производительность, если имеется большое
                    количество проблем. DATAPK ITM-K сервер будет также читать все открытые проблемы
                    при запуске процесса, даже если на это время отсутствуют настроенные
                    обслуживания.</note><p>Прокси всегда собирает данные, независимо от типа
                    обслуживания (включая обслуживание «без данных»). Эти данные впоследствии
                    игнорируются сервером, если указан тип «Без сбора данных».</p><p>После
                        завершения обслуживания «без данных» <term keyref="triggers">триггеры</term>, использующие функцию
                        <codeph>nodata()</codeph>, не активируются до момента следующей проверки в
                    течение периода времени обновления этих элементов данных.</p><p>Если добавлен
                    элемент данных журнала к узлу сети, который находится в обслуживании, и
                    обслуживание заканчивается, то будут обработаны только новые записи в файле
                    журнала, начиная с момента завершения обслуживания.</p><p>Если значение со
                    штампом времени отправляется на узел сети, который находится в обслуживании с
                    типом обслуживания «без данных» (например, при использовании DATAPK ITM-K
                    sender), тогда это значение будет отброшено, однако имеется возможность
                    отправить значение со штампом времени в течение истекшего периода обслуживания,
                    и оно будет принято.</p><p>Для обеспечения предсказуемого поведения периодов
                    обслуживания (ежедневного, еженедельного, ежемесячного) требуется использовать
                    общий часовой пояс для всех компонентов DATAPK ITM-K.</p> Если период
                обслуживания, узлы сети, группы или теги изменяются пользователем, то такие
                изменения вступят в силу только после синхронизации кэша конфигурации.</div>
        </p>
        <p>В этом разделе:<ul>
                <li><xref href="service_period_configuration.dita"
                        >Настройка периода обслуживания</xref></li>
                <li><xref href="service_status_review.dita">Просмотр
                        состояния обслуживания</xref></li>
            </ul></p>
    </body>
</topic>
