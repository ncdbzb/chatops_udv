<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="agent_server_configuration">
    <title>Настройка сервера агентов</title>
    <taskbody><prereq><p>Если есть установленный и настроенный сервер агентов, необходимоуказать его в
        веб-интерфейсе DATAPK ITM-K.</p></prereq>
        <context><p><b>Добавление сервера агентов</b></p><p>Для настройки сервера агентов в веб-интерфейсе DATAPK ITM-K необходимо выполнить
            слежующее:</p></context><steps id="ol_fbv_nk1_grb">
                <step>
                <cmd>Перейдите в раздел боковой панели <cite keyref="administration"
                        >«Администрирование»</cite> → <cite keyref="proxy">«Прокси»</cite>;</cmd>
            </step>
            <step>
                <cmd>Нажмите на «Создать прокси»;</cmd>
            </step>
            <step>
                <cmd>Настройте атрибуты сервера агентов.</cmd>
            </step>
        </steps><postreq>
            
            <table id="table_gbv_nk1_grb" frame="all" colsep="1" rowsep="1">
            <title>Атрибуты для сервера агентов</title>
            <tgroup cols="3">
                    <colspec colnum="1" colname="col1" colwidth="1*"/>
                    <colspec colnum="2" colname="col2" colwidth="3.47*"/>
                    <colspec colnum="3" colname="col3" colwidth="7.33*"/>
                    <thead>
                        <row>
                            <entry namest="col1" nameend="col2">Параметр</entry>
                            <entry>Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry namest="col1" nameend="col2">Имя прокси</entry>
                            <entry>Имя сервера агентов должно совпадать с именем параметра
                                    <b>Hostname</b> в файле конфигурации сервера агентов.</entry>
                        </row>
                        <row>
                            <entry namest="col1" nameend="col2">Режим прокси</entry>
                            <entry>
                                <p>Выбор режима сервера агентов:</p>
                                <ul id="ul_hbv_nk1_grb">
                                    <li><b>Активный</b> - прокси будет подключаться к DATAPK ITM-K
                                        серверу и запрашивать данные конфигурации;</li>
                                    <li><b>Пассивный</b> - к серверу агентов будет подключаться
                                        DATAPK ITM-K сервер.</li>
                                </ul>
                                <note type="attention">(деликатные) данные конфигурации могут стать
                                    доступны лицам, имеющим доступ к порту <term keyref="trapper"
                                        >траппера</term> DATAPK ITM-K сервера, при использовании
                                    активного сервера агентов. Такое возможно, потому что, кто
                                    угодно может представиться активным сервером агентов и запросить
                                    данные конфигурации, если аутентификация не выполняется или
                                    адреса сервера агентов не ограничены в поле «Адрес
                                    прокси».</note>
                            </entry>
                        </row>
                        <row>
                            <entry namest="col1" nameend="col2"> </entry>
                            <entry> </entry>
                        </row>
                        <row>
                            <entry namest="col1" nameend="col2">Интерфейс</entry>
                            <entry>
                                <p>Указываются детали интерфейса пассивному серверу агентов.</p>
                                <p>Это поле доступно только, если в поле «Режим сервера агентов»
                                    выбран <b>Пассивный</b>.</p>
                            </entry>
                        </row>
                        <row>
                            <entry morerows="3"/>
                            <entry>IP адрес</entry>
                            <entry>IP адрес пассивного сервера агентов (опционально).</entry>
                        </row>
                        <row>
                            <entry>DNS имя</entry>
                            <entry>DNS имя пассивного сервера агентов (опционально).</entry>
                        </row>
                        <row>
                            <entry>Подключение через</entry>
                            <entry>
                                <p>Нажав соответствующую кнопку, происходит сообщение DATAPK ITM-K
                                    серверу, что использовать для получения данных с сервера
                                    агентов:</p>
                                <ul id="ul_ibv_nk1_grb">
                                    <li><b>IP</b> - Подключение к серверу агентов по IP адресу
                                        (рекомендуется);</li>
                                    <li><b>DNS</b> - Подключение к серверу агентов по DNS
                                        имени.</li>
                                </ul>
                            </entry>
                        </row>
                        <row>
                            <entry>Порт</entry>
                            <entry>Номер TCP/UDP порта пассивного сервера агентов (по умолчанию
                                10051).</entry>
                        </row>
                        <row>
                            <entry namest="col1" nameend="col2">Описание</entry>
                            <entry>Описание сервера агентов.</entry>
                        </row>
                    </tbody>
                </tgroup>
        </table><p>Вкладка «Шифрование» позволяет настраивать шифрование соединений с сервером агентов.</p>
           
            <table id="table_jbv_nk1_grb" frame="all" colsep="1" rowsep="1">
                <title>Настройки шифрования соединений</title>
            <tgroup cols="2">
                    <colspec colnum="1" colname="col1" colwidth="1*"/>
                    <colspec colnum="2" colname="col2" colwidth="1.93*"/>
                    <thead>
                        <row>
                            <entry>Параметр</entry>
                            <entry>Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>Подключения к прокси</entry>
                            <entry>Каким образом сервер подключается к пассивному серверу агентов:
                                без шифрования (по умолчанию), используя PSK (pre-shared key) или
                                сертификат.</entry>
                        </row>
                        <row>
                            <entry>Соединения с прокси</entry>
                            <entry>Выбирается, какой тип подключений разрешен с активного сервера
                                агентов. Можно выбрать несколько типов соединений одновременно
                                (полезно при тестировании и переключении на другой тип соединения).
                                По умолчанию -<b> Без шифрования</b>.</entry>
                        </row>
                        <row>
                            <entry>Издатель</entry>
                            <entry>Разрешенный эмитент сертификата. Сертификат сначала
                                подтверждается CA (центром сертификации). Если он действительный,
                                подписан с помощью CA, тогда можно использовать поле <b>Издатель</b>
                                для более строго ограничения разрешенных CA. Это поле опционально и
                                предназначено для использования, если ваша DATAPK ITM-K инсталляция
                                использует сертификаты от нескольких CA.</entry>
                        </row>
                        <row>
                            <entry>Субъект</entry>
                            <entry>Разрешенная тема сертификата. Сертификат сначала подтверждается
                                CA. Если он действительный и подписан с помощью CA, тогда можно
                                использовать поле <b>Тема</b>, чтобы разрешить только одно значение
                                строки <b>Тема</b>. Если поле пустое, тогда принимается любой
                                сертификат, подписанный настроенным CA.</entry>
                        </row>
                        <row>
                            <entry>Идентификатор PSK</entry>
                            <entry>Строка идентификации pre-shared key.</entry>
                        </row>
                        <row>
                            <entry>PSK</entry>
                            <entry>
                                <p>Pre-shared key (строка в шестнадцатеричном формате). Максимальная
                                    длина: 512 шестнадцатеричных цифр (256-байт PSK), если DATAPK
                                    ITM-K использует библиотеки GnuTLS или OpenSSL; 64
                                    шестнадцатеричных цифр (32-байт PSK), если DATAPK ITM-K
                                    использует библиотеку mbed TLS (PolarSSL).</p>
                                <p>Пример:
                                    1f87b595725ac58dd977beef14b97461a7c1045b9a1c963065002c5473194952</p>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
        </table><p><b>Настройка узлов сети</b></p><p>Можно указать, какие конкретно узлы сети должны наблюдаться через сервер агентов в
            диалоге настройки узла сети, используя поле «Наблюдение через прокси».</p><p>Массовое обновление узлов сети является еще одним способом указать, что узлы сети должны
            наблюдаться через сервер агентов.</p></postreq></taskbody>
</task>
